<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Persisting Data & Docker Files | Ahmed Ayman</title><meta name=keywords content><meta name=description content="Diving with the Whale - Docker Day III - Persisting Data & Docker Files Author : Ahmed Ayman
Remember when I said No persisting data with a really bold font? well I lied ! ðŸ˜… Persisting Data Containers are designed to be ephemeral and isolated from the host machine. This creates problems when data is involved.
BUT, There is two ways around it actually
1. Mapping Volumes Just the same as we mapped ports we can map directories from the host machine to a container directory, so anything happens here happens there and vice versa."><meta name=author content="Ahmed Ayman"><link rel=canonical href=https://a7medayman6.github.io/blog/devops/diving-with-the-whale-docker-series/day-iii/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.d9015f4cb657fd3539b79b29ffbd11de4175ccd105ad7591beffaadfafb48488.css integrity="sha256-2QFfTLZX/TU5t5sp/70R3kF1zNEFrXWRvv+q36+0hIg=" rel="preload stylesheet" as=style><link rel=preload href=profile-pic.jpeg as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><link rel=icon href=https://a7medayman6.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://a7medayman6.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://a7medayman6.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://a7medayman6.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://a7medayman6.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.68.3"><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-123-45','auto');ga('send','pageview');}</script><meta property="og:title" content="Persisting Data & Docker Files"><meta property="og:description" content="Diving with the Whale - Docker Day III - Persisting Data & Docker Files Author : Ahmed Ayman
Remember when I said No persisting data with a really bold font? well I lied ! ðŸ˜… Persisting Data Containers are designed to be ephemeral and isolated from the host machine. This creates problems when data is involved.
BUT, There is two ways around it actually
1. Mapping Volumes Just the same as we mapped ports we can map directories from the host machine to a container directory, so anything happens here happens there and vice versa."><meta property="og:type" content="article"><meta property="og:url" content="https://a7medayman6.github.io/blog/devops/diving-with-the-whale-docker-series/day-iii/"><meta property="og:image" content="https://a7medayman6.github.io/static/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-07-28T00:34:06+02:00"><meta property="article:modified_time" content="2021-07-28T00:34:06+02:00"><meta property="og:site_name" content="Ahmed Ayman"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://a7medayman6.github.io/static/"><meta name=twitter:title content="Persisting Data & Docker Files"><meta name=twitter:description content="Diving with the Whale - Docker Day III - Persisting Data & Docker Files Author : Ahmed Ayman
Remember when I said No persisting data with a really bold font? well I lied ! ðŸ˜… Persisting Data Containers are designed to be ephemeral and isolated from the host machine. This creates problems when data is involved.
BUT, There is two ways around it actually
1. Mapping Volumes Just the same as we mapped ports we can map directories from the host machine to a container directory, so anything happens here happens there and vice versa."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":4,"name":"Persisting Data \u0026 Docker Files","item":"https://a7medayman6.github.io/blog/devops/diving-with-the-whale-docker-series/day-iii/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Persisting Data \u0026 Docker Files","name":"Persisting Data \x26 Docker Files","description":"Diving with the Whale - Docker Day III - Persisting Data \u0026amp; Docker Files Author : Ahmed Ayman\nRemember when I said No persisting data with a really bold font? well I lied ! ðŸ˜… Persisting Data Containers are designed to be ephemeral and isolated from the host machine. This creates problems when data is involved.\nBUT, There is two ways around it actually\n1. Mapping Volumes Just the same as we mapped ports we can map directories from the host machine to a container directory, so anything happens here happens there and vice versa.","keywords":[],"articleBody":"Diving with the Whale - Docker Day III - Persisting Data \u0026 Docker Files Author : Ahmed Ayman\nRemember when I said No persisting data with a really bold font? well I lied ! ðŸ˜… Persisting Data Containers are designed to be ephemeral and isolated from the host machine. This creates problems when data is involved.\nBUT, There is two ways around it actually\n1. Mapping Volumes Just the same as we mapped ports we can map directories from the host machine to a container directory, so anything happens here happens there and vice versa.\nLetâ€™s say we want to run the Ubuntu image and map itâ€™s documents directory to a d\ndocker run -v :\nif the container directory does not exist, itâ€™ll create one for you\nafter you run the command any thing you put in this directory on the host machine appears in the container directory thatâ€™s mapped to it, and vice versa!\npwd # /home/ahmed # create directory contained mkdir contained # docker run -v :  docker run -it -v /home/ahmed/contained:/mnt/contained-vol ubuntu # the proper way is to put it under /mnt/ but thats not really a rule # -it to give us an interactive shell inside the container # now check if the directory is actually there cd /mnt/contained-vol/ # and WALAH! # now let's create a file says \"Hello From The CONTAINER Side\" inside the container echo \"Hello From The CONTAINER Side\"  hello.msg # now let's head back to our host machine and check the message we got from inside this container # _______________________________________________________________________________ # fire up a new terminal # get inside the shared directory cd /home/ahmed/contained/ ls # hello.msg # yaay it's there # let's read it cat hello.msg # Hello From The CONTAINER Side # NICE! let's say hi back echo \"Hi From The HOST Side!\"  hi-back.msg # let's head back to our container shell session to check if we got the message # _______________________________________________________________________________ # get back to the container terminal ls # hello.msg hi-back.msg # let's read it, shall we? cat hi-back.msg # Hi From The HOST Side! Now what happens if we stopped and removed the container? can you guess ? HINT: Persisting!\nActually letâ€™s do it\n# exit your container shell session exit # display all running containers docker ps # no thing running righ not # display all containers docker ps -a # CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES # 043808ca3998 ubuntu \"/bin/bash\" 14 minutes ago Exited (0) 25 seconds ago gallant_pascal # remove the container docker rm gallant_pascal # gallant_pascal # display all containers again docker ps -a # CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES # the container got removed # now let's check our files in the contained directory # get inside the shared directory cd /home/ahmed/contained/ ls # hello.msg hi-back.msg # both of the files still exists! # we managed to persist data from docker container! 2. Docker Volumes   the second solution is Docker Volumes, which is actually the preferred one\n  These are volume mounts that are managed by docker\n  CREATE\ncreates a new volume with the giving name\n  # docker volume create  docker volume create contained LS  lists all the volumes on your system\ndocker volume ls # DRIVER VOLUME NAME # local contained INSPECT  gets info about the given volume\ndocker volume inspect contained [ { \"CreatedAt\": \"2021-05-04T03:40:33+02:00\", \"Driver\": \"local\", \"Labels\": {}, \"Mountpoint\": \"/var/lib/docker/volumes/contained/_data\", \"Name\": \"contained\", \"Options\": {}, \"Scope\": \"local\" } ] PRUNE  removes all unused local volumes\ndocker volume prune RM  removes one or more volumes\ndocker volume rm contained   So how to attach a volume with a container ? # create a new-volume named contained docker volume create contained # docker run -mount type=volume,source=,target=  docker run -it --mount type=volume,source=contained,target=/mnt/mounted-vol ubuntu # the proper way is to put it under /mnt/ but thats not really a rule # -it to give us an interactive shell inside the container # now check if the directory is actually there cd /mnt/contained-vol/ # and WALAH! # now let's create a file says \"Hello From The CONTAINER Side\" inside the container echo \"HELLO FROM THE CONTAINER, I'M ATTACHED TO THE VOLUME \\\"CONTAINED\\\"\"  hello.msg # now let's head back to our host machine and check the message we got from inside this container # _______________________________________________________________________________ # fire up a new terminal # get the mount point by inspecting the volume docker volume inspect contained | grep -i \"mountpoint\" # \"Mountpoint\": \"/var/lib/docker/volumes/contained/_data\" # now we know where the shared data is # let's get in there cd /var/lib/docker/volumes/contained/_data ls # hello.msg # read the file content cat hello.msg #HELLO FROM THE CONTAINER, I'M ATTACHED TO THE VOLUME \"CONTAINED\" # NICE! let's say hi back echo \"Hi From The HOST Side!\"  hi-back.msg # let's head back to our container shell session to check if we got the message # _______________________________________________________________________________ # get back to the container terminal ls # hello.msg hi-back.msg # let's read it, shall we? cat hi-back.msg # Hi From The HOST Side! TASK DO THIS TASK USING THE TWO OPTIONS, VOLUME MAPPING AND DOCKER VOLUMES\n setup a script to send a log file (create a cron-tab for example or copy log files every 1 minute) to the mapped volume or the docker volume  Here we are! Docker Files Dockerfile Reference\nDocker File Best Practices\nDocker files are specific instructions on how to build the docker image, things like libraries, environments, system updates, copying project files, and basically everything Docker Engine needs to build up the docker-image.\nDocker File Anatomy - Commands usually the naming convention is Dockerfile or Dockerfile.ubuntu\nFROM  MUST BE THE FIRST COMMAND IN THE DOCKERFILE\nONLY ONE FROM COMMAND\nSpecify the image to base your image from so you wouldnâ€™t have to start from scratch. For example in the above Dockerfile weâ€™re basing our image on a python image that would have most of the libraries already installed and the environment is ready, so we donâ€™t need to do this from scratch!\nFROMubuntu:18.04 RUN  Runs Linux commands inside the container\nFor example what is the first thing you do when you acquire a new Linux machine? YES you update and upgrade the repository! so thatâ€™s a thing you would normally want the docker image to run as a command\nRUN sudo apt updateLABEL  adding metadata like the author data or info about the image\nLABEL Author=\"Ahmed\"CMD [, , ..] ONLY ONE CMD COMMAND\nActually I lied, you can have more than one CMD command, but only the last one will get executed!\nSets defaults for running a container\nit tells the engine exactly how to run a container from this image if now commands are specified ( if any commands were specified it will overwrite the CMD command )\nCMD [\"python3\", \"app.py\"]ADD   Copies files into the image from the host machine or remote URL into the image\nADD \"https://www.notion.so/Diving-with-the-Whale-Docker-Day-III-97af6b7cda5249ab82df3656ea18e1da\" /DocumentsCOPY   Copies files into the image from the host machine or remote URL into the image\nCOPY ~/myapp /ENV   Sets environment variables inside the image\nENV DATABASE_USER=\"dbuser\"# we can use or don't use the = signENV DATABASE_HOST \"host.com\"EXPOSE  Expose a port to the outer world!\nfor example if we want to run a web-app we need to expose port 80 for HTTP and perhaps port 443 for HTTPS\nEXPOSE80/tcp ENTRYPOINT  Configure the container to run as an executable\nENTRYPOINT [\"/bin/bash\"]WORKDIR  Sets the path of the work directory, basically this changes the working directory to the path youâ€™re giving to it\nWORKDIR/var/www/html# now all the next commands (until the next RUN cd or WORKDIR) will be executed inside this diritâ€™s the same as\n# RUN cd RUN cd /var/www/html BUILD IT! now from our docker file we want to actually build the image that we can run to get a running container, so how can we build a docker file\n# change your directory to the path where your Dockerfile is cd project/ # run the build command docker build -t flask-app:latest . # -t to specify a tag for your image # flask-app:latest is the tag we chose # . is the path of the directory contains the docker file you want to build TASK  Create a bash script says hello from container! Then create a docker file based on Ubuntu, copy the script into the container and make the script run once you run the container. Build the image! Run and test your first image errors? debug and find the issue Run again Congratulations You Created Your First Docker Image! ðŸŽ‰  Advanced Topics Create your own base image from scratch\n","wordCount":"1446","inLanguage":"en","datePublished":"2021-07-28T00:34:06+02:00","dateModified":"2021-07-28T00:34:06+02:00","author":{"@type":"Person","name":"Ahmed Ayman"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://a7medayman6.github.io/blog/devops/diving-with-the-whale-docker-series/day-iii/"},"publisher":{"@type":"Organization","name":"Ahmed Ayman","logo":{"@type":"ImageObject","url":"https://a7medayman6.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body class=dark id=top><script>if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://a7medayman6.github.io/ accesskey=h title="Ahmed Ayman (Alt + H)">Ahmed Ayman</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://a7medayman6.github.io/about/ title=About><span>About</span></a></li><li><a href=https://a7medayman6.github.io/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://a7medayman6.github.io/blog/ title=Blog><span>Blog</span></a></li><li><a href=https://a7medayman6.github.io/thoughts/ title=Thoughts><span>Thoughts</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://a7medayman6.github.io/>Home</a></div><h1 class=post-title>Persisting Data & Docker Files</h1><div class=post-meta>July 28, 2021&nbsp;Â·&nbsp;7 min&nbsp;Â·&nbsp;Ahmed Ayman</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#diving-with-the-whale---docker--day-iii---persisting-data--docker-files aria-label="Diving with the Whale - Docker  Day III - Persisting Data &amp;amp; Docker Files">Diving with the Whale - Docker Day III - Persisting Data & Docker Files</a><ul><li><a href=#remember-when-i-said-no-persisting-data-with-a-really-bold-font-well-i-lied-- aria-label="Remember when I said No persisting data with a really bold font? well I lied ! ðŸ˜…">Remember when I said No persisting data with a really bold font? <strong>well I lied</strong> ! ðŸ˜…</a></li></ul></li><li><a href=#persisting-data aria-label="Persisting Data">Persisting Data</a><ul><li><a href=#1-mapping-volumes aria-label="1. Mapping Volumes">1. Mapping Volumes</a></li><li><a href=#2-docker-volumes aria-label="2. Docker Volumes">2. Docker Volumes</a></li><li><a href=#so-how-to-attach-a-volume-with-a-container- aria-label="So how to attach a volume with a container ?">So how to attach a volume with a container ?</a></li></ul></li><li><a href=#task aria-label=TASK>TASK</a></li><li><a href=#here-we-are-docker-files aria-label="Here we are! Docker Files">Here we are! Docker Files</a></li><li><a href=#docker-file-anatomy---commands aria-label="Docker File Anatomy - Commands">Docker File Anatomy - Commands</a><ul><li><a href=#from-image aria-label=FROM>FROM</a></li><li><a href=#run-command aria-label=RUN>RUN</a></li><li><a href=#label-keyvalue aria-label="LABEL &amp;lt;key=value&amp;gt;">LABEL &lt;key=value></a></li><li><a href=#cmd-command-argument-1- aria-label="CMD [&amp;lt;&amp;quot;command&amp;quot;&amp;gt;, &amp;lt;&amp;quot;argument-1&amp;quot;&amp;gt;, ..]">CMD [&lt;"command">, &lt;"argument-1">, ..]</a></li><li><a href=#add-host-filesordirectoryorurl-path-in-the-image aria-label="ADD &amp;lt;host file(s)(or)directory(or)URL&amp;gt; &amp;lt;path in the image&amp;gt;">ADD &lt;host file(s)(or)directory(or)URL<em>> &lt;path in the image</em>></a></li><li><a href=#copy-host-filesordirectory-path-in-the-image aria-label="COPY &amp;lt;host file(s)(or)directory&amp;gt; &amp;lt;path in the image&amp;gt;">COPY &lt;host file(s)(or)directory<em>> &lt;path in the image</em>></a></li><li><a href=#env-variable-value aria-label="ENV &amp;lt;variable*&amp;gt;">ENV &lt;variable*></a></li><li><a href=#expose-portprotocol aria-label="EXPOSE &amp;lt;port*/protocol&amp;gt;">EXPOSE &lt;port*/protocol></a></li><li><a href=#entrypoint-command aria-label="ENTRYPOINT &amp;lt;command*&amp;gt;">ENTRYPOINT &lt;command*></a></li><li><a href=#workdir-path aria-label=WORKDIR>WORKDIR</a></li></ul></li><li><a href=#build-it aria-label="BUILD IT!">BUILD IT!</a></li><li><a href=#task-1 aria-label=TASK>TASK</a></li><li><a href=#advanced-topics aria-label="Advanced Topics">Advanced Topics</a></li></ul></div></details></div><div class=post-content><h2 id=diving-with-the-whale---docker--day-iii---persisting-data--docker-files>Diving with the Whale - Docker Day III - Persisting Data & Docker Files<a hidden class=anchor aria-hidden=true href=#diving-with-the-whale---docker--day-iii---persisting-data--docker-files>#</a></h2><p>Author : <a href=https://github.com/a7medayman6>Ahmed Ayman</a></p><h3 id=remember-when-i-said-no-persisting-data-with-a-really-bold-font-well-i-lied-->Remember when I said No persisting data with a really bold font? <strong>well I lied</strong> ! ðŸ˜…<a hidden class=anchor aria-hidden=true href=#remember-when-i-said-no-persisting-data-with-a-really-bold-font-well-i-lied-->#</a></h3><h2 id=persisting-data>Persisting Data<a hidden class=anchor aria-hidden=true href=#persisting-data>#</a></h2><p>Containers are designed to be ephemeral and isolated from the host machine. This creates problems when data is involved.</p><p><strong>BUT,</strong> There is two ways around it actually</p><h3 id=1-mapping-volumes>1. Mapping Volumes<a hidden class=anchor aria-hidden=true href=#1-mapping-volumes>#</a></h3><p>Just the same as we mapped ports we can map directories from the host machine to a container directory, so anything happens here happens there and vice versa.</p><p>Let&rsquo;s say we want to run the Ubuntu image and map it&rsquo;s documents directory to a d</p><p><strong>docker run -v :</strong></p><p>if the container directory does not exist, it&rsquo;ll create one for you</p><p>after you run the command any thing you put in this directory on the host machine appears in the container directory that&rsquo;s mapped to it, and vice versa!</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>pwd
<span style=color:#75715e># /home/ahmed</span> 
<span style=color:#75715e># create directory contained</span> 
mkdir contained
<span style=color:#75715e># docker run -v &lt;host-directory&gt;:&lt;container-directory&gt; &lt;image&gt;</span>
docker run -it -v /home/ahmed/contained:/mnt/contained-vol ubuntu
<span style=color:#75715e># the proper way is to put it under /mnt/ but thats not really a rule</span>
<span style=color:#75715e># -it to give us an interactive shell inside the container</span>
<span style=color:#75715e># now check if the directory is actually there</span>
cd /mnt/contained-vol/
<span style=color:#75715e># and WALAH!</span>
<span style=color:#75715e># now let&#39;s create a file says &#34;Hello From The CONTAINER Side&#34; inside the container</span>
echo <span style=color:#e6db74>&#34;Hello From The CONTAINER Side&#34;</span> &gt; hello.msg
<span style=color:#75715e># now let&#39;s head back to our host machine and check the message we got from inside this container</span>
<span style=color:#75715e># _______________________________________________________________________________</span>
<span style=color:#75715e># fire up a new terminal</span> 
<span style=color:#75715e># get inside the shared directory</span>
cd /home/ahmed/contained/
ls
<span style=color:#75715e># hello.msg</span>
<span style=color:#75715e># yaay it&#39;s there</span>
<span style=color:#75715e># let&#39;s read it</span>
cat hello.msg
<span style=color:#75715e># Hello From The CONTAINER Side</span>
<span style=color:#75715e># NICE! let&#39;s say hi back</span>
echo <span style=color:#e6db74>&#34;Hi From The HOST Side!&#34;</span> &gt; hi-back.msg
<span style=color:#75715e># let&#39;s head back to our container shell session to check if we got the message</span>
<span style=color:#75715e># _______________________________________________________________________________</span>
<span style=color:#75715e># get back to the container terminal</span>
ls 
<span style=color:#75715e># hello.msg  hi-back.msg</span>
<span style=color:#75715e># let&#39;s read it, shall we?</span>
cat hi-back.msg
<span style=color:#75715e># Hi From The HOST Side!</span>

</code></pre></div><p>Now what happens if we stopped and removed the container? can you guess ?
HINT: Persisting!</p><p>Actually let&rsquo;s do it</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># exit your container shell session</span> 
exit

<span style=color:#75715e># display all running containers</span>
docker ps 
<span style=color:#75715e># no thing running righ not</span>

<span style=color:#75715e># display all containers</span>
docker ps -a
<span style=color:#75715e># CONTAINER ID   IMAGE     COMMAND       CREATED          STATUS                      PORTS     NAMES</span>
<span style=color:#75715e># 043808ca3998   ubuntu    &#34;/bin/bash&#34;   14 minutes ago   Exited (0) 25 seconds ago             gallant_pascal</span>

<span style=color:#75715e># remove the container</span>
docker rm gallant_pascal
<span style=color:#75715e># gallant_pascal</span>

<span style=color:#75715e># display all containers again</span>
docker ps -a
<span style=color:#75715e># CONTAINER ID   IMAGE     COMMAND       CREATED          STATUS                      PORTS     NAMES</span>

<span style=color:#75715e># the container got removed</span>
<span style=color:#75715e># now let&#39;s check our files in the contained directory</span>
<span style=color:#75715e># get inside the shared directory</span>
cd /home/ahmed/contained/
ls 
<span style=color:#75715e># hello.msg  hi-back.msg</span>
<span style=color:#75715e># both of the files still exists!</span> 
<span style=color:#75715e># we managed to persist data from docker container!</span>
</code></pre></div><h3 id=2-docker-volumes>2. Docker Volumes<a hidden class=anchor aria-hidden=true href=#2-docker-volumes>#</a></h3><ul><li><p>the second solution is Docker Volumes, which is actually the preferred one</p></li><li><p>These are volume mounts that are managed by docker</p><ol><li><p>CREATE</p><p>creates a new volume with the giving name</p></li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># docker volume create &lt;name&gt;</span>
docker volume create contained

</code></pre></div><ol start=2><li>LS</li></ol><p>lists all the volumes on your system</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker volume ls
<span style=color:#75715e># DRIVER    VOLUME NAME</span>
<span style=color:#75715e># local     contained</span>
</code></pre></div><ol start=3><li>INSPECT</li></ol><p>gets info about the given volume</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker volume inspect contained
<span style=color:#f92672>[</span>
 <span style=color:#f92672>{</span>
    <span style=color:#e6db74>&#34;CreatedAt&#34;</span>: <span style=color:#e6db74>&#34;2021-05-04T03:40:33+02:00&#34;</span>,
    <span style=color:#e6db74>&#34;Driver&#34;</span>: <span style=color:#e6db74>&#34;local&#34;</span>,
    <span style=color:#e6db74>&#34;Labels&#34;</span>: <span style=color:#f92672>{}</span>,
    <span style=color:#e6db74>&#34;Mountpoint&#34;</span>: <span style=color:#e6db74>&#34;/var/lib/docker/volumes/contained/_data&#34;</span>,
    <span style=color:#e6db74>&#34;Name&#34;</span>: <span style=color:#e6db74>&#34;contained&#34;</span>,
    <span style=color:#e6db74>&#34;Options&#34;</span>: <span style=color:#f92672>{}</span>,
    <span style=color:#e6db74>&#34;Scope&#34;</span>: <span style=color:#e6db74>&#34;local&#34;</span>
  <span style=color:#f92672>}</span>
<span style=color:#f92672>]</span>
</code></pre></div><ol start=4><li>PRUNE</li></ol><p>removes all unused local volumes</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker volume prune 
</code></pre></div><ol start=5><li>RM</li></ol><p>removes one or more volumes</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker volume rm contained
</code></pre></div></li></ul><h3 id=so-how-to-attach-a-volume-with-a-container->So how to attach a volume with a container ?<a hidden class=anchor aria-hidden=true href=#so-how-to-attach-a-volume-with-a-container->#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># create a new-volume named contained</span>
docker volume create contained 

<span style=color:#75715e># docker run -mount type=volume,source=&lt;volume_name&gt;,target=&lt;mount-point-inside-the-container&gt; &lt;image&gt;</span>
docker run -it --mount type<span style=color:#f92672>=</span>volume,source<span style=color:#f92672>=</span>contained,target<span style=color:#f92672>=</span>/mnt/mounted-vol ubuntu

<span style=color:#75715e># the proper way is to put it under /mnt/ but thats not really a rule</span>
<span style=color:#75715e># -it to give us an interactive shell inside the container</span>
<span style=color:#75715e># now check if the directory is actually there</span>
cd /mnt/contained-vol/

<span style=color:#75715e># and WALAH!</span>
<span style=color:#75715e># now let&#39;s create a file says &#34;Hello From The CONTAINER Side&#34; inside the container</span>
echo <span style=color:#e6db74>&#34;HELLO FROM THE CONTAINER, I&#39;M ATTACHED TO THE VOLUME \&#34;CONTAINED\&#34;&#34;</span> &gt; hello.msg

<span style=color:#75715e># now let&#39;s head back to our host machine and check the message we got from inside this container</span>
<span style=color:#75715e># _______________________________________________________________________________</span>
<span style=color:#75715e># fire up a new terminal</span> 
<span style=color:#75715e># get the mount point by inspecting the volume</span> 
docker volume inspect contained | grep -i <span style=color:#e6db74>&#34;mountpoint&#34;</span>
<span style=color:#75715e># &#34;Mountpoint&#34;: &#34;/var/lib/docker/volumes/contained/_data&#34;</span>

<span style=color:#75715e># now we know where the shared data is</span>
<span style=color:#75715e># let&#39;s get in there</span>
cd /var/lib/docker/volumes/contained/_data
ls
<span style=color:#75715e># hello.msg</span>

<span style=color:#75715e># read the file content</span>
cat hello.msg
<span style=color:#75715e>#HELLO FROM THE CONTAINER, I&#39;M ATTACHED TO THE VOLUME &#34;CONTAINED&#34;</span>

<span style=color:#75715e># NICE! let&#39;s say hi back</span>
echo <span style=color:#e6db74>&#34;Hi From The HOST Side!&#34;</span> &gt; hi-back.msg

<span style=color:#75715e># let&#39;s head back to our container shell session to check if we got the message</span>
<span style=color:#75715e># _______________________________________________________________________________</span>
<span style=color:#75715e># get back to the container terminal</span>
ls 
<span style=color:#75715e># hello.msg  hi-back.msg</span>
<span style=color:#75715e># let&#39;s read it, shall we?</span>
cat hi-back.msg
<span style=color:#75715e># Hi From The HOST Side!</span>
</code></pre></div><h2 id=task>TASK<a hidden class=anchor aria-hidden=true href=#task>#</a></h2><p><strong>DO THIS TASK USING THE TWO OPTIONS, VOLUME MAPPING AND DOCKER VOLUMES</strong></p><ol><li>setup a script to send a log file (create a cron-tab for example or copy log files every 1 minute) to the mapped volume or the docker volume</li></ol><h2 id=here-we-are-docker-files>Here we are! Docker Files<a hidden class=anchor aria-hidden=true href=#here-we-are-docker-files>#</a></h2><p><a href=https://docs.docker.com/engine/reference/builder/>Dockerfile Reference</a></p><p><a href=https://docs.docker.com/develop/develop-images/dockerfile_best-practices/>Docker File Best Practices</a></p><p>Docker files are specific instructions on how to build the docker image, things like libraries, environments, system updates, copying project files, and basically everything Docker Engine needs to build up the docker-image.</p><p><img loading=lazy src=/blog/devops/docker-series/day-3/Dockerfile.jpg alt=Diving%20with%20the%20Whale%20-%20Docker%20Day%20III%20-%20Persistin%20e00176bef9d94dea943699bd2f4cfee1/Dockerfile.jpg></p><h2 id=docker-file-anatomy---commands>Docker File Anatomy - Commands<a hidden class=anchor aria-hidden=true href=#docker-file-anatomy---commands>#</a></h2><p>usually the naming convention is <strong>Dockerfile</strong> or <strong>Dockerfile.ubuntu</strong></p><h3 id=from-image>FROM <a hidden class=anchor aria-hidden=true href=#from-image>#</a></h3><p><strong>MUST BE THE FIRST COMMAND IN THE DOCKERFILE</strong></p><p><strong>ONLY ONE FROM COMMAND</strong></p><p>Specify the image to base your image from so you wouldn&rsquo;t have to start from scratch.
For example in the above Dockerfile we&rsquo;re basing our image on a python image that would have most of the libraries already installed and the environment is ready, so we don&rsquo;t need to do this from scratch!</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> ubuntu:18.04 </span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h3 id=run-command>RUN <a hidden class=anchor aria-hidden=true href=#run-command>#</a></h3><p>Runs Linux commands inside the container</p><p>For example what is the first thing you do when you acquire a new Linux machine?
YES you update and upgrade the repository! so that&rsquo;s a thing you would normally want the docker image to run as a command</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=color:#66d9ef>RUN</span> sudo apt update<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h3 id=label-keyvalue>LABEL &lt;key=value><a hidden class=anchor aria-hidden=true href=#label-keyvalue>#</a></h3><p>adding metadata like the author data or info about the image</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=color:#66d9ef>LABEL</span> Author<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Ahmed&#34;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h3 id=cmd-command-argument-1->CMD [&lt;"command">, &lt;"argument-1">, ..]<a hidden class=anchor aria-hidden=true href=#cmd-command-argument-1->#</a></h3><p><strong>ONLY ONE CMD COMMAND</strong></p><p>Actually I lied, you can have more than one CMD command, but only the last one will get executed!</p><p>Sets defaults for running a container</p><p>it tells the engine exactly how to run a container from this image if now commands are specified ( if any commands were specified it will overwrite the CMD command )</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=color:#66d9ef>CMD</span> [<span style=color:#e6db74>&#34;python3&#34;</span>, <span style=color:#e6db74>&#34;app.py&#34;</span>]<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h3 id=add-host-filesordirectoryorurl-path-in-the-image>ADD &lt;host file(s)(or)directory(or)URL<em>> &lt;path in the image</em>><a hidden class=anchor aria-hidden=true href=#add-host-filesordirectoryorurl-path-in-the-image>#</a></h3><p>Copies files into the image from the host machine or remote URL into the image</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=color:#66d9ef>ADD</span> <span style=color:#e6db74>&#34;https://www.notion.so/Diving-with-the-Whale-Docker-Day-III-97af6b7cda5249ab82df3656ea18e1da&#34;</span> /Documents<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h3 id=copy-host-filesordirectory-path-in-the-image>COPY &lt;host file(s)(or)directory<em>> &lt;path in the image</em>><a hidden class=anchor aria-hidden=true href=#copy-host-filesordirectory-path-in-the-image>#</a></h3><p>Copies files into the image from the host machine or remote URL into the image</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=color:#66d9ef>COPY</span> ~/myapp /<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h3 id=env-variable-value>ENV &lt;variable*> <a hidden class=anchor aria-hidden=true href=#env-variable-value>#</a></h3><p>Sets environment variables inside the image</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=color:#66d9ef>ENV</span> DATABASE_USER<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;dbuser&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># we can use or don&#39;t use the = sign</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ENV</span> DATABASE_HOST <span style=color:#e6db74>&#34;host.com&#34;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h3 id=expose-portprotocol>EXPOSE &lt;port*/protocol><a hidden class=anchor aria-hidden=true href=#expose-portprotocol>#</a></h3><p>Expose a port to the outer world!</p><p>for example if we want to run a web-app we need to expose port 80 for HTTP and perhaps port 443 for HTTPS</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=color:#66d9ef>EXPOSE</span><span style=color:#e6db74> 80/tcp </span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h3 id=entrypoint-command>ENTRYPOINT &lt;command*><a hidden class=anchor aria-hidden=true href=#entrypoint-command>#</a></h3><p>Configure the container to run as an executable</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=color:#66d9ef>ENTRYPOINT</span> [<span style=color:#e6db74>&#34;/bin/bash&#34;</span>]<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h3 id=workdir-path>WORKDIR <a hidden class=anchor aria-hidden=true href=#workdir-path>#</a></h3><p>Sets the path of the work directory, basically this changes the working directory to the path you&rsquo;re giving to it</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=color:#66d9ef>WORKDIR</span><span style=color:#e6db74> /var/www/html</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># now all the next commands (until the next RUN cd or WORKDIR) will be executed inside this dir</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>it&rsquo;s the same as</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=color:#75715e># RUN cd &lt;path&gt;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> cd /var/www/html <span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h2 id=build-it>BUILD IT!<a hidden class=anchor aria-hidden=true href=#build-it>#</a></h2><p><img loading=lazy src=/blog/devops/docker-series/day-3/200.gif alt=Diving%20with%20the%20Whale%20-%20Docker%20Day%20III%20-%20Persistin%20e00176bef9d94dea943699bd2f4cfee1/200.gif></p><p>now from our docker file we want to actually build the image that we can run to get a running container, so how can we build a docker file</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># change your directory to the path where your Dockerfile is</span>
cd project/
<span style=color:#75715e># run the build command</span>
docker build -t flask-app:latest .
<span style=color:#75715e># -t to specify a tag for your image</span> 
<span style=color:#75715e># flask-app:latest is the tag we chose</span>
<span style=color:#75715e># . is the path of the directory contains the docker file you want to build</span>
</code></pre></div><h2 id=task-1>TASK<a hidden class=anchor aria-hidden=true href=#task-1>#</a></h2><ul><li>Create a bash script says hello from container!</li><li>Then create a docker file based on Ubuntu, copy the script into the container and make the script run once you run the container.</li><li>Build the image!</li><li>Run and test your first image</li><li><strong>errors</strong>? debug and find the issue</li><li>Run again</li><li><strong>Congratulations You Created Your First Docker Image!</strong> ðŸŽ‰</li></ul><h2 id=advanced-topics>Advanced Topics<a hidden class=anchor aria-hidden=true href=#advanced-topics>#</a></h2><p><a href=https://docs.docker.com/develop/develop-images/baseimages/>Create your own base image from scrat</a>ch</p></div><footer class=post-footer><nav class=paginav><a class=prev href=https://a7medayman6.github.io/blog/devops/symphony-k8s/day-3/><span class=title>Â« Prev Page</span><br><span>Symphony III - Services</span></a>
<a class=next href=https://a7medayman6.github.io/blog/devops/jenkins/><span class=title>Next Page Â»</span><br><span>Jenkins</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Persisting Data & Docker Files on twitter" href="https://twitter.com/intent/tweet/?text=Persisting%20Data%20%26%20Docker%20Files&url=https%3a%2f%2fa7medayman6.github.io%2fblog%2fdevops%2fdiving-with-the-whale-docker-series%2fday-iii%2f&hashtags="><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zm-253.927 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z" /></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Persisting Data & Docker Files on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fa7medayman6.github.io%2fblog%2fdevops%2fdiving-with-the-whale-docker-series%2fday-iii%2f&title=Persisting%20Data%20%26%20Docker%20Files&summary=Persisting%20Data%20%26%20Docker%20Files&source=https%3a%2f%2fa7medayman6.github.io%2fblog%2fdevops%2fdiving-with-the-whale-docker-series%2fday-iii%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0v-129.439c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02v-126.056c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768h75.024zm-307.552-334.556c-25.674.0-42.448 16.879-42.448 39.002.0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z" /></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Persisting Data & Docker Files on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fa7medayman6.github.io%2fblog%2fdevops%2fdiving-with-the-whale-docker-series%2fday-iii%2f&title=Persisting%20Data%20%26%20Docker%20Files"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zm-119.474 108.193c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zm-160.386-29.702c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z" /></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Persisting Data & Docker Files on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fa7medayman6.github.io%2fblog%2fdevops%2fdiving-with-the-whale-docker-series%2fday-iii%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978v-192.915h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892z" /></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Persisting Data & Docker Files on whatsapp" href="https://api.whatsapp.com/send?text=Persisting%20Data%20%26%20Docker%20Files%20-%20https%3a%2f%2fa7medayman6.github.io%2fblog%2fdevops%2fdiving-with-the-whale-docker-series%2fday-iii%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23-13.314-11.876-22.304-26.542-24.916-31.026s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z" /></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Persisting Data & Docker Files on telegram" href="https://telegram.me/share/url?text=Persisting%20Data%20%26%20Docker%20Files&url=https%3a%2f%2fa7medayman6.github.io%2fblog%2fdevops%2fdiving-with-the-whale-docker-series%2fday-iii%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47A3.38 3.38.0 0126.49 29.86zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z" /></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://a7medayman6.github.io/>Ahmed Ayman</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z" /></svg></button></a>
<script>let menu=document.getElementById('menu')
menu.scrollLeft=localStorage.getItem("menu-scroll-position");menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft);}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>